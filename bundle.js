!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("path"),require("fs"),require("events"),require("tty"),require("util"),require("net"),require("process")):"function"==typeof define&&define.amd?define(["path","fs","events","tty","util","net","process"],n):(e="undefined"!=typeof globalThis?globalThis:e||self).Presentation=n(e.require$$0$4,e.require$$0$2,e.require$$2$1,e.require$$0$1,e.require$$1$1,e.require$$4,e.require$$0$3)}(this,(function(e,n,t,r,i,o,s){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=a(e),l=a(n),c=a(t),p=a(r),f=a(i),d=a(o),h=a(s),m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function v(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}var b=v,y=w;function _(e){if(b===setTimeout)return setTimeout(e,0);if((b===v||!b)&&setTimeout)return b=setTimeout,setTimeout(e,0);try{return b(e,0)}catch(n){try{return b.call(null,e,0)}catch(n){return b.call(this,e,0)}}}"function"==typeof g.setTimeout&&(b=setTimeout),"function"==typeof g.clearTimeout&&(y=clearTimeout);var E,x=[],S=!1,T=-1;function j(){S&&E&&(S=!1,E.length?x=E.concat(x):T=-1,x.length&&P())}function P(){if(!S){var e=_(j);S=!0;for(var n=x.length;n;){for(E=x,x=[];++T<n;)E&&E[T].run();T=-1,n=x.length}E=null,S=!1,function(e){if(y===clearTimeout)return clearTimeout(e);if((y===w||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(e);try{y(e)}catch(n){try{return y.call(null,e)}catch(n){return y.call(this,e)}}}(e)}}function O(e,n){this.fun=e,this.array=n}O.prototype.run=function(){this.fun.apply(null,this.array)};function R(){}var A=R,C=R,k=R,L=R,N=R,B=R,F=R;var M=g.performance||{},V=M.now||M.mozNow||M.msNow||M.oNow||M.webkitNow||function(){return(new Date).getTime()};var J=new Date;var D={nextTick:function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];x.push(new O(e,n)),1!==x.length||S||_(P)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:A,addListener:C,once:k,off:L,removeListener:N,removeAllListeners:B,emit:F,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var n=.001*V.call(M),t=Math.floor(n),r=Math.floor(n%1*1e9);return e&&(t-=e[0],(r-=e[1])<0&&(t--,r+=1e9)),[t,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-J)/1e3}},$={exports:{}},G={exports:{}},I={exports:{}},U=1e3,W=60*U,q=60*W,Y=24*q,z=365.25*Y,H=function(e,n){n=n||{};var t=typeof e;if("string"===t&&e.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!n)return;var t=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return t*z;case"days":case"day":case"d":return t*Y;case"hours":case"hour":case"hrs":case"hr":case"h":return t*q;case"minutes":case"minute":case"mins":case"min":case"m":return t*W;case"seconds":case"second":case"secs":case"sec":case"s":return t*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}(e);if("number"===t&&!1===isNaN(e))return n.long?function(e){return K(e,Y,"day")||K(e,q,"hour")||K(e,W,"minute")||K(e,U,"second")||e+" ms"}(e):function(e){if(e>=Y)return Math.round(e/Y)+"d";if(e>=q)return Math.round(e/q)+"h";if(e>=W)return Math.round(e/W)+"m";if(e>=U)return Math.round(e/U)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function K(e,n,t){if(!(e<n))return e<1.5*n?Math.floor(e/n)+" "+t:Math.ceil(e/n)+" "+t+"s"}!function(e,n){var t;function r(e){function r(){if(r.enabled){var e=r,i=+new Date,o=i-(t||i);e.diff=o,e.prev=t,e.curr=i,t=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;u++;var i=n.formatters[r];if("function"==typeof i){var o=s[u];t=i.call(e,o),s.splice(u,1),u--}return t})),n.formatArgs.call(e,s);var l=r.log||n.log||console.log.bind(console);l.apply(e,s)}}return r.namespace=e,r.enabled=n.enabled(e),r.useColors=n.useColors(),r.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),"function"==typeof n.init&&n.init(r),r}(n=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=H,n.names=[],n.skips=[],n.formatters={}}(I,I.exports),function(e,n){function t(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==D&&"env"in D&&(e=D.env.DEBUG),e}(n=e.exports=I.exports).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=t,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(t())}(G,G.exports);var X={exports:{}};!function(e,n){var t=p.default,r=f.default;(n=e.exports=I.exports).init=function(e){e.inspectOpts={};for(var t=Object.keys(n.inspectOpts),r=0;r<t.length;r++)e.inspectOpts[t[r]]=n.inspectOpts[t[r]]},n.log=function(){return o.write(r.format.apply(r,arguments)+"\n")},n.formatArgs=function(e){var t=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+t+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+n.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+t+" "+e[0]},n.save=function(e){null==e?delete D.env.DEBUG:D.env.DEBUG=e},n.load=s,n.useColors=function(){return"colors"in n.inspectOpts?Boolean(n.inspectOpts.colors):t.isatty(i)},n.colors=[6,2,3,4,5,1],n.inspectOpts=Object.keys(D.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,n){var t=n.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,n){return n.toUpperCase()})),r=D.env[n];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[t]=r,e}),{});var i=parseInt(D.env.DEBUG_FD,10)||2;1!==i&&2!==i&&r.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var o=1===i?D.stdout:2===i?D.stderr:function(e){var n;switch(D.binding("tty_wrap").guessHandleType(e)){case"TTY":(n=new t.WriteStream(e))._type="tty",n._handle&&n._handle.unref&&n._handle.unref();break;case"FILE":var r=l.default;(n=new r.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var i=d.default;(n=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,n.read=null,n._type="pipe",n._handle&&n._handle.unref&&n._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return n.fd=e,n._isStdio=!0,n}(i);function s(){return D.env.DEBUG}n.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},n.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)},n.enable(s())}(X,X.exports),void 0!==D&&"renderer"===D.type?$.exports=G.exports:$.exports=X.exports;var Z=/./,Q="function"==typeof Object.defineProperty?Object.defineProperty:null;var ee=function(){try{return Q({},"x",{}),!0}catch(e){return!1}},ne=Object.defineProperty,te=Object.prototype,re=te.toString,ie=te.__defineGetter__,oe=te.__defineSetter__,se=te.__lookupGetter__,ae=te.__lookupSetter__;var ue=function(e,n,t){var r,i,o,s;if("object"!=typeof e||null===e||"[object Array]"===re.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof t||null===t||"[object Array]"===re.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((i="value"in t)&&(se.call(e,n)||ae.call(e,n)?(r=e.__proto__,e.__proto__=te,delete e[n],e[n]=t.value,e.__proto__=r):e[n]=t.value),o="get"in t,s="set"in t,i&&(o||s))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&ie&&ie.call(e,n,t.get),s&&oe&&oe.call(e,n,t.set),e},le=ne,ce=ue,pe=ee()?le:ce,fe=pe;var de=function(e,n,t){fe(e,n,{configurable:!1,enumerable:!1,writable:!1,value:t})},he=de;var me=function(e){return"boolean"==typeof e};var ge=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var ve=function(){return ge&&"symbol"==typeof Symbol.toStringTag},we=Object.prototype.toString,be=we;var ye=function(e){return be.call(e)},_e=Object.prototype.hasOwnProperty;var Ee=function(e,n){return null!=e&&_e.call(e,n)},xe="function"==typeof Symbol?Symbol.toStringTag:"",Se=Ee,Te=xe,je=we;var Pe=ye,Oe=function(e){var n,t,r;if(null==e)return je.call(e);t=e[Te],n=Se(e,Te);try{e[Te]=void 0}catch(n){return je.call(e)}return r=je.call(e),n?e[Te]=t:delete e[Te],r},Re=ve()?Oe:Pe,Ae=Boolean.prototype.toString;var Ce=Re,ke=function(e){try{return Ae.call(e),!0}catch(e){return!1}},Le=ve();var Ne=function(e){return"object"==typeof e&&(e instanceof Boolean||(Le?ke(e):"[object Boolean]"===Ce(e)))},Be=me,Fe=Ne;var Me=he,Ve=function(e){return Be(e)||Fe(e)},Je=Ne;Me(Ve,"isPrimitive",me),Me(Ve,"isObject",Je);var De=Ve;var $e="object"==typeof self?self:null,Ge="object"==typeof window?window:null,Ie=De.isPrimitive,Ue=function(){return new Function("return this;")()},We=$e,qe=Ge,Ye="object"==typeof m?m:null;var ze=function(e){if(arguments.length){if(!Ie(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return Ue()}if(We)return We;if(qe)return qe;if(Ye)return Ye;throw new Error("unexpected error. Unable to resolve global object.")},He=ze(),Ke=He.document&&He.document.childNodes,Xe=Int8Array,Ze=Z,Qe=Ke,en=Xe;var nn=function(){return"function"==typeof Ze||"object"==typeof en||"function"==typeof Qe};var tn=function(){return/^\s*function\s*([^(]*)/i},rn=tn;he(rn,"REGEXP",tn());var on=rn,sn=Re;var an=Array.isArray?Array.isArray:function(e){return"[object Array]"===sn(e)},un=an;var ln=function(e){return null!==e&&"object"==typeof e};he(ln,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(n){var t,r;if(!un(n))return!1;if(0===(t=n.length))return!1;for(r=0;r<t;r++)if(!1===e(n[r]))return!1;return!0}}(ln));var cn=ln;var pn=Re,fn=on.REGEXP,dn=function(e){return cn(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))};var hn=function(e){var n,t,r;if(("Object"===(t=pn(e).slice(8,-1))||"Error"===t)&&e.constructor){if("string"==typeof(r=e.constructor).name)return r.name;if(n=fn.exec(r.toString()))return n[1]}return dn(e)?"Buffer":t},mn=hn;var gn=hn;var vn=function(e){var n;return null===e?"null":"object"===(n=typeof e)?mn(e).toLowerCase():n},wn=function(e){return gn(e).toLowerCase()},bn=nn()?wn:vn;var yn=function(e){return"function"===bn(e)};var _n=function(e){return"string"==typeof e},En=String.prototype.valueOf;var xn=Re,Sn=function(e){try{return En.call(e),!0}catch(e){return!1}},Tn=ve();var jn=function(e){return"object"==typeof e&&(e instanceof String||(Tn?Sn(e):"[object String]"===xn(e)))},Pn=_n,On=jn;var Rn=he,An=function(e){return Pn(e)||On(e)},Cn=jn;Rn(An,"isPrimitive",_n),Rn(An,"isObject",Cn);var kn=An;var Ln=function(e){return"number"==typeof e},Nn=Number,Bn=Nn.prototype.toString;var Fn=Re,Mn=Nn,Vn=function(e){try{return Bn.call(e),!0}catch(e){return!1}},Jn=ve();var Dn=function(e){return"object"==typeof e&&(e instanceof Mn||(Jn?Vn(e):"[object Number]"===Fn(e)))},$n=Ln,Gn=Dn;var In=he,Un=function(e){return $n(e)||Gn(e)},Wn=Dn;In(Un,"isPrimitive",Ln),In(Un,"isObject",Wn);var qn=Un,Yn=Number.POSITIVE_INFINITY,zn=Nn.NEGATIVE_INFINITY,Hn=Math.floor,Kn=Hn;var Xn=Yn,Zn=zn,Qn=function(e){return Kn(e)===e};var et=function(e){return e<Xn&&e>Zn&&Qn(e)},nt=qn.isPrimitive,tt=et;var rt=function(e){return nt(e)&&tt(e)},it=qn.isObject,ot=et;var st=function(e){return it(e)&&ot(e.valueOf())},at=rt,ut=st;var lt=he,ct=function(e){return at(e)||ut(e)},pt=st;lt(ct,"isPrimitive",rt),lt(ct,"isObject",pt);var ft=ct,dt=pe;var ht=function(e,n,t){dt(e,n,{configurable:!1,enumerable:!1,get:t})},mt=ht,gt=pe;var vt=function(e,n,t){gt(e,n,{configurable:!0,enumerable:!1,writable:!0,value:t})},wt=vt;var bt=function(e){return e!=e},yt=zn;var _t=bt,Et=function(e){return 0===e&&1/e===yt};var xt=function(e,n,t){return _t(e)||_t(n)||_t(t)?NaN:e<n?n:e>t?t:0===n&&Et(e)?n:0===e&&Et(t)?t:e},St=xt,Tt=Math.ceil,jt=Hn,Pt=Tt;var Ot=bt,Rt=function(e){return e<0?Pt(e):jt(e)};var At=function(e,n,t){var r;return Ot(e)||Ot(n)||Ot(t)||t<=n?NaN:(0===e&&(e=0),0===n&&(n=0),0===t&&(t=0),n<=e&&e<t?e:(r=t-n,e<n&&(e+=r*(Rt((n-e)/r)+1)),n+(e-n)%r))},Ct=At,kt=l.default.readFile;var Lt=function(){var e,n;for(e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);kt.apply(null,e)},Nt=l.default.readFileSync;var Bt=function(e,n){var t;try{t=arguments.length>1?Nt(e,n):Nt(e)}catch(e){return e}return t},Ft=Lt;he(Ft,"sync",Bt);var Mt=Ft,Vt=ft.isPrimitive;var Jt=function(e){return Vt(e)&&e>=0},Dt=ft.isObject;var $t=function(e){return Dt(e)&&e.valueOf()>=0},Gt=Jt,It=$t;var Ut=he,Wt=function(e){return Gt(e)||It(e)},qt=$t;Ut(Wt,"isPrimitive",Jt),Ut(Wt,"isObject",qt);var Yt=Wt.isPrimitive,zt=kn.isPrimitive;var Ht=function(e,n){var t,r;if(!zt(e))throw new TypeError("invalid argument. First argument must be a string. Value: `"+e+"`.");if(!Yt(n))throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+n+"`.");if(0===e.length||0===n)return"";if(e.length*n>9007199254740991)throw new RangeError("invalid argument. Output string length exceeds maximum allowed string length.");for(t="",r=n;1==(1&r)&&(t+=e),0!==(r>>>=1);)e+=e;return t},Kt=h.default;var Xt=function(){return Kt.cwd()};var Zt=function(e){var n=typeof e;return null===e||"object"!==n&&"function"!==n?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+e+"`."):null},Qt=Object.create;function er(){}var nr=function(e){return er.prototype=e,new er},tr=pe,rr=Zt,ir="function"==typeof Qt?Qt:nr;var or=function(e,n){var t=rr(e);if(t)throw t;if(t=rr(n))throw t;if(void 0===n.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+n.prototype+"`.");return e.prototype=ir(n.prototype),tr(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e}),e},sr=h.default;var ar=function(e){var n,t;for(n=[],t=1;t<arguments.length;t++)n.push(arguments[t]);function r(){e.apply(null,n)}sr.nextTick(r)},ur=ar;var lr=function(){return{borderTop:"*",borderBottom:"*",borderLeft:"* ",borderRight:" *",newline:"\n",whitespace:" ",width:null,height:null,counter:!1,workspace:"presentation",autoClear:!0,loop:!1}},cr=an;var pr=function(e){return"object"==typeof e&&null!==e&&!cr(e)},fr=Object.getPrototypeOf;var dr=function(e){return e.__proto__},hr=Re,mr=dr;var gr=function(e){var n=mr(e);return n||null===n?n:"[object Function]"===hr(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null},vr=fr,wr=gr,br=yn(Object.getPrototypeOf)?vr:wr;var yr=pr,_r=yn,Er=function(e){return null==e?null:(e=Object(e),br(e))},xr=Ee,Sr=Re,Tr=Object.prototype;var jr=function(e){var n;return!!yr(e)&&(!(n=Er(e))||!xr(e,"constructor")&&xr(n,"constructor")&&_r(n.constructor)&&"[object Function]"===Sr(n.constructor)&&xr(n,"isPrototypeOf")&&_r(n.isPrototypeOf)&&(n===Tr||function(e){var n;for(n in e)if(!xr(e,n))return!1;return!0}(e)))},Pr=jr,Or=ft.isPrimitive;var Rr=function(e){return Or(e)&&e>0},Ar=ft.isObject;var Cr=function(e){return Ar(e)&&e.valueOf()>0},kr=Rr,Lr=Cr;var Nr=he,Br=function(e){return kr(e)||Lr(e)},Fr=Cr;Nr(Br,"isPrimitive",Rr),Nr(Br,"isObject",Fr);var Mr=Br,Vr=Pr,Jr=Ee,Dr=kn.isPrimitive,$r=De.isPrimitive,Gr=Mr.isPrimitive;var Ir=function(e,n){return Vr(n)?Jr(n,"borderTop")&&(e.borderTop=n.borderTop,!Dr(n.borderTop))?new TypeError("invalid option. `borderTop` option must be a string. Option: `"+n.borderTop+"`."):Jr(n,"borderBottom")&&(e.borderBottom=n.borderBottom,!Dr(n.borderBottom))?new TypeError("invalid option. `borderBottom` option must be a string. Option: `"+n.borderBottom+"`."):Jr(n,"borderLeft")&&(e.borderLeft=n.borderLeft,!Dr(n.borderLeft))?new TypeError("invalid option. `borderLeft` option must be a string. Option: `"+n.borderLeft+"`."):Jr(n,"borderRight")&&(e.borderRight=n.borderRight,!Dr(n.borderRight))?new TypeError("invalid option. `borderRight` option must be a string. Option: `"+n.borderRight+"`."):Jr(n,"counter")&&(e.counter=n.counter,"progress"!==n.counter&&!$r(n.counter))?new TypeError("invalid option. `counter` option must be either a recognized string or boolean. Option: `"+n.counter+"`."):Jr(n,"width")&&(e.width=n.width,null!==n.width&&!Gr(n.width))?new TypeError("invalid option. `width` option must be either a positive integer or null. Option: `"+n.width+"`."):Jr(n,"height")&&(e.height=n.height,null!==n.height&&!Gr(n.height))?new TypeError("invalid option. `height` option must be either a positive integer or null. Option: `"+n.height+"`."):Jr(n,"workspace")&&(e.workspace=n.workspace,!Dr(n.workspace))?new TypeError("invalid option. `workspace` option must be a string. Option: `"+n.workspace+"`."):Jr(n,"load")&&(e.load=n.load,!Dr(n.load))?new TypeError("invalid option. `load` option must be a string. Option: `"+n.load+"`."):Jr(n,"autoClear")&&(e.autoClear=n.autoClear,!$r(n.autoClear))?new TypeError("invalid option. `autoClear` option must be a boolean. Option: `"+n.autoClear+"`."):Jr(n,"loop")&&(e.loop=n.loop,!$r(n.loop))?new TypeError("invalid option. `loop` option must be a boolean. Option: `"+n.loop+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+n+"`.")},Ur=Pr,Wr=Ee,qr=De.isPrimitive,Yr=kn.isPrimitive;var zr=function(e,n){return Ur(n)?Wr(n,"flags")&&(e.flags=n.flags,!Yr(e.flags))?new TypeError("invalid option. `flags` option must be a string primitive. Option: `"+e.flags+"`."):Wr(n,"capture")&&(e.capture=n.capture,!qr(e.capture))?new TypeError("invalid option. `capture` option must be a boolean primitive. Option: `"+e.capture+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+n+"`.")},Hr=zr,Kr="\\r?\\n";var Xr=function(e){var n,t;if(arguments.length>0){if(t=Hr(n={},e))throw t;return n.capture?new RegExp("(\\r?\\n)",n.flags):new RegExp(Kr,n.flags)}return/\r?\n/},Zr=he,Qr=Xr,ei=Xr({capture:!0});Zr(Qr,"REGEXP",Xr()),Zr(Qr,"REGEXP_CAPTURE",ei);var ni=Qr,ti=kn.isPrimitive,ri=/[-\/\\^$*+?.()|[\]{}]/g;var ii=function(e){var n,t;if(!ti(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");if("/"===e[0])for(t=e.length-1;t>=0&&"/"!==e[t];t--);return void 0===t||t<=0?e.replace(ri,"\\$&"):(n=(n=e.substring(1,t)).replace(ri,"\\$&"),e=e[0]+n+e.substring(t))},oi=ii,si=RegExp.prototype.exec;var ai=Re,ui=function(e){try{return si.call(e),!0}catch(e){return!1}},li=ve();var ci=oi,pi=yn,fi=kn.isPrimitive,di=function(e){return"object"==typeof e&&(e instanceof RegExp||(li?ui(e):"[object RegExp]"===ai(e)))};var hi=function(e,n,t){if(!fi(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(fi(n))n=ci(n),n=new RegExp(n,"g");else if(!di(n))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+n+"`.");if(!fi(t)&&!pi(t))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+t+"`.");return e.replace(n,t)},mi=kn.isPrimitive,gi=hi,vi=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;var wi=function(e){if(!mi(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return gi(e,vi,"$1")},bi=Yn;var yi=function(e){return 0===e&&1/e===bi},_i=bt,Ei=zn,xi=Yn;var Si=function(e,n){var t,r,i,o;if(2===(t=arguments.length))return _i(e)||_i(n)?NaN:e===xi||n===xi?xi:e===n&&0===e?yi(e)?e:n:e>n?e:n;for(r=Ei,o=0;o<t;o++){if(_i(i=arguments[o])||i===xi)return i;(i>r||i===r&&0===i&&yi(i))&&(r=i)}return r},Ti=Si,ji=Ee,Pi={BLACK:"[30m",BLACK_B:"[40m",BLUE:"[34m",BLUE_B:"[44m",BOLD:"[1m",CYAN:"[36m",CYAN_B:"[46m",GREEN:"[32m",GREEN_B:"[42m",MAGENTA:"[35m",MAGENTA_B:"[45m",RED:"[31m",RED_B:"[41m",RESET:"[0m",REVERSED:"[7m",UNDERLINED:"[4m",WHITE:"[37m",WHITE_B:"[47m",YELLOW:"[33m",YELLOW_B:"[43m"};var Oi=function(e){return ji(Pi,e)?Pi[e]:null},Ri=Ee,Ai=Oi,Ci={b:"BLUE",c:"CYAN",g:"GREEN",k:"BLACK",m:"MAGENTA",r:"RED",w:"WHITE",y:"YELLOW",B:"BLUE_B",C:"CYAN_B",G:"GREEN_B",K:"BLACK_B",M:"MAGENTA_B",R:"RED_B",W:"WHITE_B",Y:"YELLOW_B","!":"REVERSED","*":"BOLD",_:"UNDERLINED"};var ki=function(e){return Ri(Ci,e)?Ai(Ci[e]):null},Li=hi,Ni=ki,Bi=Oi("RESET");var Fi=function(e){var n,t,r;return n=/(\\.)/g,r=0,t="",e.text=Li(e.text,n,(function(e,n){var i,o=n[1];if(i=Ni(o))return t=Bi,r-=2,i;if("s"===o)return r-=2,Bi;if("\\"===o)return r-=1,"\\\\";return"\\\\"+o})),e.text+=t,e.length+=r,e},Mi=kn.isPrimitive;var Vi=function(e){if(!Mi(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return 65279===e.charCodeAt(0)?e.slice(1):e},Ji=kn.isPrimitive,Di=yn;var $i=function(e,n){if(!Ji(e))throw new TypeError("invalid argument. First argument must be a string. Value: `"+e+"`.");if(arguments.length>1&&!Di(n))throw new TypeError("invalid argument. Reviver argument must be a function. Value: `"+n+"`.");try{return JSON.parse(e,n)}catch(e){return e}};var Gi=function(e,n){if("function"!=typeof n)throw new TypeError("invalid argument. `constructor` argument must be callable. Value: `"+n+"`.");return e instanceof n},Ii=kn.isPrimitive,Ui=Pr,Wi=yn,qi=Mt,Yi=Vi,zi=$i,Hi=Gi;var Ki=function(e,n,t){var r,i;if(arguments.length<3)r={},i=n;else{if(Ii(n))r={encoding:n};else{if(!Ui(n))throw new TypeError("invalid argument. Options argument must be either a string or an object. Value: `"+n+"`.");r=n}i=t}if(!Wi(i))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+i+"`.");function o(e,n){return e?i(e):(n=n.toString(),"utf8"===r.encoding&&(n=Yi(n)),n=r.reviver?zi(n,r.reviver):zi(n),Hi(n,Error)?i(n):void i(null,n))}qi(e,r,o)},Xi=kn.isPrimitive,Zi=Pr,Qi=Mt.sync,eo=Vi,no=$i,to=Gi;var ro=function(e,n){var t,r;if(arguments.length>1)if(Xi(n))t={encoding:n};else{if(!Zi(n))throw new TypeError("invalid argument. Options argument must be either a string or an object. Value: `"+n+"`.");t=n}else t={};return r=Qi(e,t),to(r,Error)?r:(r=r.toString(),"utf8"===t.encoding&&(r=eo(r)),t.reviver?no(r,t.reviver):no(r))},io=Ki;he(io,"sync",ro);var oo=io,so=u.default.resolve,ao=oo.sync,uo=so("/home/runner/work/repl-presentation/repl-presentation/node_modules/@stdlib/datasets-emoji-code-picto/lib","..","data","data.json"),lo={encoding:"utf8"};var co=hi,po=Ee,fo=function(){var e=ao(uo,lo);if(e instanceof Error)throw e;return e}();var ho=ni.REGEXP,mo=wi,go=Ee,vo=Ti,wo=Fi,bo=function(e){var n,t;return n=/:([\w+\-]+)(?::{2}([\w+\-,\s]+))?:/g,t=0,e.text=co(e.text,n,(function(e,n,r){var i,o;i=":"+n+":",r&&(r=r.split(/,\s*/).join(", "),i+=":"+r+":");if(po(fo,i)&&2===(o=fo[i]).length)return t-=e.length-2,o;return e})),e.length+=t,e},yo=/^(\s*)```\s*([a-z]+)?$/,_o={js:"javascript",javascript:"javascript"};var Eo=function(e){var n,t,r,i,o,s,a,u,l,c,p;for(a={raw:e,fragments:[],code:[],notes:"",length:0,maxLength:0},(e=e.split("~~~")).length>1&&(a.notes+=mo(e.slice(1).join("~~~"))),i=(e=e[0]).split("--"),c=0;c<i.length;c++){for(r=mo(i[c]).split(ho),u=0===c?[]:a.fragments[c-1].slice(),t=!1,p=0;p<r.length;p++)(l=(o=r[p]).match(yo))?!1===t?(t=!0,n=l[1],s=l[2]?go(_o,l[2])?_o[l[2]]:"unknown":"javascript",a.code.push({lang:s,src:[]})):t=!1:(t&&(o=o.slice(n.length),a.code[a.code.length-1].src.push(o),o="    "+o),o={text:o,length:o.length},o=wo(o),o=bo(o),u.push(o));a.fragments.push(u)}for(a.length=u.length,c=0;c<u.length;c++)a.maxLength=vo(a.maxLength,u[c].length);return a},xo=Eo;var So=function(e,n){var t,r;for(t=n.split("---"),r=0;r<t.length;r++)e.push(xo(t[r]));return e},To=ft.isPrimitive,jo=kn.isPrimitive;var Po=function(e,n,t){var r,i;if(!jo(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(!jo(n))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+n+"`.");if(arguments.length>2){if(!To(t))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+t+"`.");r=t<0?e.length+t:t}else r=0;if(0===n.length)return!0;if(r<0||r+n.length>e.length)return!1;for(i=0;i<n.length;i++)if(e.charCodeAt(r+i)!==n.charCodeAt(i))return!1;return!0},Oo=Po;var Ro=function(e,n,t,r){var i,o;for(i="",o=0;o<t;o++)i+=n;for(i+=e,o=0;o<r;o++)i+=n;return i},Ao=Ro;var Co=Ro;var ko=Ro;var Lo=Ro;var No=Ro;var Bo=function(e,n,t,r){return No(n,r,e-t,0)},Fo=Oo,Mo=function(e,n,t,r){var i=e-t,o=i/2|0;return Ao(n,r,o,i-o)},Vo=function(e,n,t,r,i){var o;return Co(n,r,o=i/2|0,e-o-t)},Jo=function(e,n,t,r,i){var o;return ko(n,r,e-(o=(i+1)/2|0)-t,o)},Do=function(e,n,t,r){return Lo(n,r,0,e-t)},$o=Bo;var Go=function(e,n,t,r,i){return Fo(n,"<< ")?Do(e,n.substring(3),t-3,r):Fo(n,">> ")?$o(e,n.substring(3),t-3,r):Fo(n,"< ")?Vo(e,n.substring(2),t-2,r,i):Fo(n,"> ")?Jo(e,n.substring(2),t-2,r,i):Fo(n,"| ")?Mo(e,n.substring(2),t-2,r):Vo(e,n,t,r,i)},Io=Ht,Uo=Ro,Wo=Oi("RESET"),qo=Wo[0],Yo=Wo[Wo.length-1],zo=/[\uD800-\uDBFF]/;var Ho=Oo,Ko=Go,Xo=function(e,n,t,r,i){var o,s,a,u,l,c,p,f,d;if(""===n&&(t=(n="-").length),o="",l=Io(n,f=(a=e-i)/t|0),(c=a-t*f)>0)for(d=0;d<n.length;d++)if((p=n[d])!==Yo)if(s)l+=p;else if(p!==qo){if(zo.test(p)){if(c<=1){l+=r;break}l+=p,c-=1}else if(l+=p,0===(c-=1))break}else l+=p,s=!0,o+=Wo;else s&&(s=!1),l+=p;return Uo(l+o,r,u=i/2|0,i-u)};var Zo=function(e,n,t,r){var i,o,s;for(n=n.slice(),s=0;s<n.length;s++)i=n[s].text,o=n[s].length,i=Ho(i,"//")?Xo(e,i.substring(2),o-2,t,0):Ho(i,"/")?Xo(e,i.substring(1),o-1,t,r):Ko(e,i,o,t,r),n[s]={text:i,length:e};return n},Qo=Bo;var es=function(e,n,t,r,i){var o=r.toString();return"progress"===t&&(o+="/"+i),Qo(e,o+=" ",o.length,n)},ns=Ht;var ts=function(e,n,t,r){return t+(0===r.length?"":ns(n,e))+r},rs=Ht;var is=function(e){return function(){var n=rs(e._opts.newline,e.height+1);e._repl._ostream.write(n),e._repl.once("drain",(function(){e._repl._ostream.write("[1T[1G")}))}};var os=function(e){return function(){return e.currentSlide}};var ss=function(e){return function(){e._repl.once("drain",(function(){e.end().show()}))}};var as=function(e){return function(){e._repl.once("drain",(function(){e.first().show()}))}};var us=function(e){return function(){e._repl.once("drain",(function(){e.firstFragment().show()}))}},ls=$.exports,cs=ft.isPrimitive,ps=ls("repl:presentation:command:jump");var fs=function(e){return function(n){var t;if(!cs(n))return t=new TypeError("invalid argument. Must provide an integer. Value: `"+n+"`."),ps("Error: %s",t.message),void e._repl._ostream.write("Error: "+t.message+"\n");e._repl.once("drain",(function(){e.jump(n).show()}))}},ds=$.exports,hs=Mr.isPrimitive,ms=ds("repl:presentation:command:jump_to");var gs=function(e){return function(n){var t;if(!hs(n))return t=new TypeError("invalid argument. Must provide a positive integer. Value: `"+n+"`."),ms("Error: %s",t.message),void e._repl._ostream.write("Error: "+t.message+"\n");e._repl.once("drain",(function(){e.jumpTo(n).show()}))}};var vs=function(e){return function(){e._repl.once("drain",(function(){e.last().show()}))}};var ws=function(e){return function(){e._repl.once("drain",(function(){e.lastFragment().show()}))}},bs=$.exports,ys=kn.isPrimitive,_s=bs("repl:presentation:command:load_presentation");var Es=function(e){return function(n){var t;if(!ys(n))return t=new TypeError("invalid argument. Must provide a string. Value: `"+n+"`."),_s("Error: %s",t.message),void e._repl._ostream.write("Error: "+t.message+"\n");e._repl.once("drain",(function(){var t;try{e.load(n).show()}catch(n){_s("Error: %s",n.message),t=e._repl._prompt().length,e._repl._ostream.write("[1A["+t+"DError: "+n.message+"[0J\n"),e._repl._displayPrompt()}}))}};var xs=function(e){return function(){e._repl.once("drain",(function(){e.next().show()}))}};var Ss=function(e){return function(){e._repl.once("drain",(function(){e.nextSlide().show()}))}};var Ts=function(e){return function(){return e.length}},js=["","    pres()                h()    Print presentation help text.","","    next()                n()    Move to the next slide or slide fragment.","    nextSlide()           N()    Move to the next slide.","    prev()                p()    Move to the previous slide or slide fragment.","    prevSlide()           P()    Move to the previous slide.","","    jump()                g()    Jump a specified number of slides.","    jumpTo()              j()    Jump to a specified slide.","    first()               f()    Jump to the first slide.","    last()                l()    Jump to the first fragment of the last slide.","    end()                 L()    Jump to the last fragment of the last slide.","","    firstFragment()       ff()   Jump to the first slide fragment.","    lastFragment()        lf()   Jump to the last slide fragment.","","    blank()               b()    Render a blank screen.","    redraw()              rd()   Redraw the current slide.","","    runSlide()            r()    Run slide code.","","    watch()               w()    Watch a presentation file for changes.","    unwatch()             uw()   Stop watching a presentation file for changes.","","    loadPresentation()    lp()   Load a presentation.","    reloadPresentation()  rlp()  Reload the current presentation.","    renderSlide()                Render the current slide.","","    currentSlide                 Current slide index.","    numSlides                    Number of slides.","",""].join("\n");var Ps=function(e){return function(){e._repl._ostream.write(js)}};var Os=function(e){return function(){e._repl.once("drain",(function(){e.prev().show()}))}};var Rs=function(e){return function(){e._repl.once("drain",(function(){e.prevSlide().show()}))}};var As=function(e){return function(){e._repl.once("drain",(function(){e.show()}))}},Cs=(0,$.exports)("repl:presentation:command:reload_presentation");var ks=function(e){return function(){e._repl.once("drain",(function(){var n;try{e.reload().show()}catch(t){Cs("Error: %s",t.message),n=e._repl._prompt().length,e._repl._ostream.write("[1A["+n+"DError: "+t.message+"[0J\n"),e._repl._displayPrompt()}}))}};var Ls=function(e){return function(){return e.render()}};var Ns=function(){};var Bs=function(e){return function(){e._repl.once("drain",(function(){e.run(Ns)}))}};var Fs=function(e){return function(n){if(arguments.length)return void e.unwatch(n);e.unwatch()}};var Ms=function(e){return function(){e.watch()}},Vs=is,Js=os,Ds=ss,$s=as,Gs=us,Is=fs,Us=gs,Ws=vs,qs=ws,Ys=Es,zs=xs,Hs=Ss,Ks=Ts,Xs=Ps,Zs=Os,Qs=Rs,ea=As,na=ks,ta=Ls,ra=Bs,ia=Fs,oa=Ms;var sa=function(e){var n;return(n=[]).push(["blank","b",Vs(e),!1]),n.push(["currentSlide","",Js(e),!0]),n.push(["end","L",Ds(e),!1]),n.push(["first","f",$s(e),!1]),n.push(["firstFragment","ff",Gs(e),!1]),n.push(["jump","g",Is(e),!1]),n.push(["jumpTo","j",Us(e),!1]),n.push(["last","l",Ws(e),!1]),n.push(["lastFragment","lf",qs(e),!1]),n.push(["loadPresentation","lp",Ys(e),!1]),n.push(["next","n",zs(e),!1]),n.push(["nextSlide","N",Hs(e),!1]),n.push(["numSlides","",Ks(e),!0]),n.push(["pres","h",Xs(e),!1]),n.push(["prev","p",Zs(e),!1]),n.push(["prevSlide","P",Qs(e),!1]),n.push(["redraw","rd",ea(e),!1]),n.push(["reloadPresentation","rlp",na(e),!1]),n.push(["renderSlide","",ta(e),!1]),n.push(["runSlide","r",ra(e),!1]),n.push(["unwatch","uw",ia(e),!1]),n.push(["watch","w",oa(e),!1]),n},aa=pe;var ua=function(e,n,t){aa(e,n,{configurable:!0,enumerable:!0,writable:!1,value:t})},la=ua,ca=pe;var pa=function(e,n,t){ca(e,n,{configurable:!0,enumerable:!0,get:t})},fa=pa,da=$.exports,ha=Ee,ma=la,ga=fa,va=da("repl:presentation:set_commands");var wa=function(e,n){var t,r;for(r=0;r<n.length;r++)t=n[r],ha(e,t[0])?va("Skipping command as global context property `"+t[0]+"` is already assigned."):t[3]?ga(e,t[0],t[2]):ma(e,t[0],t[2]),t[1]&&(ha(e,t[1])?va("Skipping command shortcut as global context property `"+t[1]+"` is already assigned."):t[3]?ga(e,t[1],t[2]):ma(e,t[1],t[2]));return e},ba={help:{blank:"\nblank()\n    Renders a blank screen.\n\n    Examples\n    --------\n    > blank();\n\n    See Also\n    --------\n    next, nextSlide, prev, prevSlide, redraw\n\n",currentSlide:"\ncurrentSlide\n    Returns the current presentation slide index.\n\n    The returned index is the nominal (i.e., one-based) slide index.\n\n    Returns\n    -------\n    idx: integer\n        Current presentation slide index.\n\n    Examples\n    --------\n    > currentSlide\n\n    See Also\n    --------\n    jumpTo, next, numSlides, prev\n\n",end:"\nend()\n    Jumps to the last fragment of the last slide.\n\n    Examples\n    --------\n    > end();\n\n    See Also\n    --------\n    first, jumpTo, last, next, prev\n\n",first:"\nfirst()\n    Jumps to the first slide.\n\n    Examples\n    --------\n    > first();\n\n    See Also\n    --------\n    end, jumpTo, last, next, prev\n\n",firstFragment:"\nfirstFragment()\n    Jumps to the first fragment of the current slide.\n\n    Examples\n    --------\n    > firstFragment();\n\n    See Also\n    --------\n    lastFragment, next, prev\n\n",jump:"\njump( n )\n    Jumps a specified number of slides.\n\n    Parameters\n    ----------\n    n: integer\n    \tNumber of slides to jump.\n\n    Examples\n    --------\n    // Jump two slides forward:\n    > jump( 2 );\n\n    // Jump two slides backward:\n    > jump( -2 );\n\n    See Also\n    --------\n    jumpTo, next, prev\n\n",jumpTo:"\njumpTo( n )\n    Jumps to a specified slide, where `n` is the nominal slide number.\n\n    Parameters\n    ----------\n    n: integer\n    \tNominal slide number (one-based).\n\n    Examples\n    --------\n    > jumpTo( 2 );\n\n    See Also\n    --------\n    jump, next, prev\n\n",last:"\nlast()\n    Jumps to the last slide.\n\n    Examples\n    --------\n    > last();\n\n    See Also\n    --------\n    end, first, jumpTo, next, prev\n\n",lastFragment:"\nlastFragment()\n    Jumps to the last fragment of the current slide.\n\n    Examples\n    --------\n    > lastFragment();\n\n    See Also\n    --------\n    firstFragment, next, prev\n\n",loadPresentation:"\nloadPresentation( file )\n    Loads a presentation from a file.\n\n    Relative file paths are resolved relative to the current working directory.\n\n    Parameters\n    ----------\n    file: string\n    \tFile path.\n\n    Examples\n    --------\n    > loadPresentation( './path/to/presentation.txt' );\n\n    See Also\n    --------\n    reloadPresentation\n\n",next:"\nnext()\n    Moves the presentation to the next slide or slide fragment.\n\n    Examples\n    --------\n    > next();\n\n    See Also\n    --------\n    first, jumpTo, last, nextSlide, prev\n\n",nextSlide:"\nnextSlide()\n    Moves the presentation to the next slide.\n\n    Examples\n    --------\n    > nextSlide();\n\n    See Also\n    --------\n    first, jumpTo, last, next, prev, prevSlide\n\n",numSlides:"\nnumSlides\n    Returns the presentation length.\n\n    Returns\n    -------\n    len: integer\n        Number of slides.\n\n    Examples\n    --------\n    > numSlides\n\n    See Also\n    --------\n    currentSlide, jumpTo, next, prev\n\n",pres:"\npres()\n    Prints presentation help text and shortcuts.\n\n    Examples\n    --------\n    > pres();\n\n    See Also\n    --------\n    help, info\n\n",prev:"\nprev()\n    Moves the presentation to the previous slide or slide fragment.\n\n    Examples\n    --------\n    > prev();\n\n    See Also\n    --------\n    first, jumpTo, last, next, prevSlide\n\n",prevSlide:"\nprevSlide()\n    Moves the presentation to the previous slide.\n\n    Examples\n    --------\n    > prevSlide();\n\n    See Also\n    --------\n    first, jumpTo, last, next, nextSlide, prev\n\n",redraw:"\nredraw()\n    Redraws the current presentation slide.\n\n    Examples\n    --------\n    > redraw();\n\n    See Also\n    --------\n    next, nextSlide, prev, prevSlide, reloadPresentation\n\n",reloadPresentation:"\nreloadPresentation( file )\n    Reloads a presentation.\n\n    Examples\n    --------\n    > reloadPresentation();\n\n    See Also\n    --------\n    loadPresentation, redraw\n\n",renderSlide:"\nrenderSlide()\n    Renders the current presentation slide.\n\n    Examples\n    --------\n    > renderSlide()\n\n    See Also\n    --------\n    load\n\n",runSlide:"\nrunSlide()\n    Runs slide code.\n\n    Examples\n    --------\n    > runSlide()\n\n    See Also\n    --------\n    next, prev\n\n",unwatch:"\nunwatch( [error] )\n    Stops watching a presentation file for changes.\n\n    Parameters\n    ----------\n    error: Error (optional)\n    \tError object.\n\n    Examples\n    --------\n    > unwatch();\n\n    See Also\n    --------\n    loadPresentation, redraw, reloadPresentation, watch\n\n",watch:'\nwatch()\n    Watches a presentation source file for changes.\n\n    "Renaming" a source file is *not* tracked. If a source presentation file is\n    renamed, watching stops.\n\n    Examples\n    --------\n    > watch();\n\n    See Also\n    --------\n    loadPresentation, redraw, reloadPresentation, unwatch\n\n'},info:{blank:"\nblank()\n    Renders a blank screen.\n",currentSlide:"\ncurrentSlide\n    Returns the current presentation slide index.\n",end:"\nend()\n    Jumps to the last fragment of the last slide.\n",first:"\nfirst()\n    Jumps to the first slide.\n",firstFragment:"\nfirstFragment()\n    Jumps to the first fragment of the current slide.\n",jump:"\njump( n )\n    Jumps a specified number of slides.\n",jumpTo:"\njumpTo( n )\n    Jumps to a specified slide, where `n` is the nominal slide number.\n",last:"\nlast()\n    Jumps to the last slide.\n",lastFragment:"\nlastFragment()\n    Jumps to the last fragment of the current slide.\n",loadPresentation:"\nloadPresentation( file )\n    Loads a presentation from a file.\n",next:"\nnext()\n    Moves the presentation to the next slide or slide fragment.\n",nextSlide:"\nnextSlide()\n    Moves the presentation to the next slide.\n",numSlides:"\nnumSlides\n    Returns the presentation length.\n",pres:"\npres()\n    Prints presentation help text and shortcuts.\n",prev:"\nprev()\n    Moves the presentation to the previous slide or slide fragment.\n",prevSlide:"\nprevSlide()\n    Moves the presentation to the previous slide.\n",redraw:"\nredraw()\n    Redraws the current presentation slide.\n",reloadPresentation:"\nreloadPresentation( file )\n    Reloads a presentation.\n",renderSlide:"\nrenderSlide()\n    Renders the current presentation slide.\n",runSlide:"\nrunSlide()\n    Runs slide code.\n",unwatch:"\nunwatch( [error] )\n    Stops watching a presentation file for changes.\n",watch:"\nwatch()\n    Watches a presentation source file for changes.\n"},example:{blank:"blank();\n",currentSlide:"currentSlide\n",end:"end();\n",first:"first();\n",firstFragment:"firstFragment();\n",jump:"jump( 2 );\njump( -2 );\n",jumpTo:"jumpTo( 2 );\n",last:"last();\n",lastFragment:"lastFragment();\n",loadPresentation:"loadPresentation( './path/to/presentation.txt' );\n",next:"next();\n",nextSlide:"nextSlide();\n",numSlides:"numSlides\n",pres:"pres();\n",prev:"prev();\n",prevSlide:"prevSlide();\n",redraw:"redraw();\n",reloadPresentation:"reloadPresentation();\n",renderSlide:"renderSlide()\n",runSlide:"runSlide()\n",unwatch:"unwatch();\n",watch:"watch();\n"}},ya=u.default.resolve,_a=l.default.watch,Ea=c.default.EventEmitter,xa=$.exports,Sa=yn,Ta=kn.isPrimitive,ja=ft.isPrimitive,Pa=he,Oa=mt,Ra=wt,Aa=St,Ca=Ct,ka=Mt.sync,La=Ht,Na=hn,Ba=Xt,Fa=or,Ma=ur,Va=lr,Ja=Ir,Da=So,$a=Zo,Ga=es,Ia=ts,Ua=sa,Wa=wa,qa=ba,Ya=xa("repl:presentation");function za(){var e,n,t,r,i,o,s,a,u,l,c;if(e=arguments.length,!(this instanceof za)){if(0===e)throw new Error("invalid invocation. Insufficient arguments. Must provide a REPL instance.");return 1===e?new za(arguments[0]):2===e?new za(arguments[0],arguments[1]):new za(arguments[0],arguments[1],arguments[2])}if(0===e)throw new Error("invalid invocation. Insufficient arguments. Must provide a REPL instance.");if(i=Va(),1===e)t=arguments[0];else if(2===e){if(Ta(arguments[0]))n=arguments[0],t=arguments[1];else if(t=arguments[0],s=Ja(i,arguments[1]))throw s}else{if(!Ta(n=arguments[0]))throw new TypeError("invalid argument. Presentation text argument must be a string. Value: `"+n+"`.");if(t=arguments[1],s=Ja(i,arguments[2]))throw s}if("REPL"!==Na(t))throw new TypeError("invalid argument. REPL argument must be a REPL instance. Value: `"+t+"`.");for(o=this,Ya("Options: %s",JSON.stringify(i)),Ea.call(this),Pa(this,"_repl",t),Pa(this,"_opts",i),Ra(this,"_source",""),Ra(this,"_watcher",null),Pa(this,"_slides",[]),Ra(this,"_slide",null),Ra(this,"_slideCursor",-1),Ra(this,"_fragmentCursor",0),u=t._quiet,t._quiet=!0,t._context.workspace(i.workspace),t._quiet=u,r=Ua(this),Wa(t._context,r),c=0;c<r.length;c++)a=r[c],(l=qa.help[a[0]])&&(t._context.userDoc(a[0],a[2],l),t._context.userDoc(a[1],a[2],l));return n?(Da(this._slides,n),this._slide=this._slides[0]||null,this._slideCursor=0,this._fragmentCursor=0):i.load&&this.load(i.load),t.on("exit",p),this;function p(){Ya("REPL environment closed. Performing presentation clean-up tasks."),o.unwatch()}}return Fa(za,Ea),Pa(za.prototype,"_select",(function(e,n){var t,r,i;return i=this.length,-1===(t=this._opts.loop?Ca(e,0,i):Aa(e,-1,i))||t===i?(Ya("Unable to select slide. Slide cursor out-of-range."),this._slide=null):this._slide=this._slides[t],this._slide&&arguments.length>1?(i=this._slide.fragments.length,-1!==(r=Aa(n,-1,i))&&r!==i||(Ya("Unable to select slide fragment. Fragment cursor out-of-range."),this._slide=null)):r=0,this._slide&&(Ya("Selected slide %d and fragment %d.",t,r),this._slideCursor=t,this._fragmentCursor=r),this._slide})),Oa(za.prototype,"currentSlide",(function(){return this._slideCursor+1})),Pa(za.prototype,"end",(function(){var e=this._slides[this.length-1];return e&&(Ya("Jumping to the last fragment of the last slide."),this._select(this.length-1,e.fragments.length-1)),this})),Pa(za.prototype,"first",(function(){return Ya("Jumping to the first slide."),this._select(0),this})),Pa(za.prototype,"firstFragment",(function(){return Ya("Jumping to the first fragment of the current slide."),this._select(this._slideCursor,0),this})),Oa(za.prototype,"height",(function(){return this._opts.height?this._opts.height:this._repl._ostream.isTTY?this._repl._ostream.rows:25})),Pa(za.prototype,"jump",(function(e){if(!ja(e))throw new TypeError("invalid argument. Must provide an integer. Value: `"+e+"`.");return e=Aa(this.currentSlide+e,1,this.length)-1,Ya("Jumping to slide %d.",e),this._select(e),this})),Pa(za.prototype,"jumpTo",(function(e){if(!ja(e))throw new TypeError("invalid argument. Must provide an integer. Value: `"+e+"`.");return Ya("Jumping to slide %d.",e-1),this._select(e-1),this})),Pa(za.prototype,"last",(function(){return Ya("Jumping to the last slide."),this._select(this.length-1),this})),Pa(za.prototype,"lastFragment",(function(){return Ya("Jumping to the last fragment of the current slide."),this._slide&&this._select(this._slideCursor,this._slide.fragments.length-1),this})),Oa(za.prototype,"length",(function(){return this._slides.length})),Pa(za.prototype,"load",(function(e){var n,t;if(!Ta(e))throw new TypeError("invalid argument. Must provide a string. Value: `"+e+"`.");if(this._watcher&&(t=!0,this.unwatch()),Ya("Attempting to load source presentation file: %s",e),n=ya(Ba(),e),Ya("Resolved file path: %s",n),(e=ka(n,{encoding:"utf8"}))instanceof Error)throw e;return Ya("Successfully loaded source presentation file."),this._source=n,this._slides.length=0,Da(this._slides,e),this._slide=this._slides[0]||null,this._slideCursor=0,this._fragmentCursor=0,t&&this.watch(),this})),Pa(za.prototype,"next",(function(){return null===this._select(this._slideCursor,this._fragmentCursor+1)?(Ya("Moving to the next slide."),this._select(this.currentSlide)):Ya("Moving to the next slide fragment."),this})),Pa(za.prototype,"nextSlide",(function(){return Ya("Moving to the next slide."),this._select(this.currentSlide),this})),Pa(za.prototype,"prev",(function(){var e,n=this._select(this._slideCursor,this._fragmentCursor-1);return null===n?(e=(n=this._slideCursor-1)>=0?this._slides[n].fragments.length-1:0,Ya("Moving to the last fragment of the previous slide."),this._select(n,e)):Ya("Moving to the previous slide fragment."),this})),Pa(za.prototype,"prevSlide",(function(){return Ya("Moving to the previous slide."),this._select(this._slideCursor-1),this})),Pa(za.prototype,"reload",(function(){var e=this.currentSlide;if(""===this._source)throw new Error("invalid operation. No presentation to reload. Use the `load()` method to load a presentation.");Ya("Attempting to reload presentation.");try{this.load(this._source)}catch(e){throw new Error("unexpected error. Unable to reload presentation. Error: "+e.message)}return this.jumpTo(e),Ya("Successfully reloaded presentation."),this})),Pa(za.prototype,"render",(function(){var e,n,t,r,i,o,s,a,u,l,c,p,f,d,h,m;if(null===this._slide)return null;for(h=this.width,o=this.slideHeight,s=this.slideWidth,a=this._slide.length,d=Aa(this._fragmentCursor,0,this._slide.fragments.length-1),u=(p=this._slide.fragments[d]).length,n=this._opts.borderRight,t=this._opts.borderLeft,i=this._opts.newline,c=this._opts.whitespace,e=o-u-(r=(o-a)/2|0),this._opts.counter&&(e-=1),l=$a(s,p,c,s-this._slide.maxLength),f=La(this._opts.borderTop,h),f+=i,m=0;m<r;m++)f+=Ia(s,c,t,n),f+=i;for(m=0;m<l.length;m++)f+=t,f+=l[m].text,f+=n,f+=i;for(m=0;m<e;m++)f+=Ia(s,c,t,n),f+=i;return this._opts.counter&&(f+=t,f+=Ga(s,c,this._opts.counter,this._slideCursor+1,this.length),f+=n,f+=i),f+=La(this._opts.borderBottom,h)})),Pa(za.prototype,"run",(function(e){var n,t,r,i,o,s,a;if(!Sa(e))throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");if(n=this,o=this._slides[this._slideCursor]){if(o.code){for(t=[],s=0;s<o.code.length;s++)if("javascript"===o.code[s].lang)for(i=o.code[s].src,a=0;a<i.length;a++)t.push(i[a]);if(t.length)return Ya("Forwarding each line of slide code to the REPL readline interface in order to mimic user input."),r=t.length,s=-1,function i(){(s+=1)<r?t[s]?(Ya("Forwarding line %d.",s),n._repl._rli.write(t[s]+"\n"),n._repl.once("drain",i)):(Ya("Skipping blank code line."),Ma(i)):(Ya("Finished executing slide code."),Ma(e))}()}Ya("Slide does not contain code to run. Skipping.")}else Ya("No slide is currently selected. Skipping.");Ma(e)})),Pa(za.prototype,"show",(function(){var e=this.render();return e&&(e="[2K[1G"+e+this._opts.newline,this._opts.autoClear?(Ya("Clearing the REPL screen."),this._repl.clear()):e+=this._opts.newline+this._opts.newline+"[2A",Ya("Writing a presentation slide to the REPL."),this._repl._ostream.write(e),this._repl._displayPrompt(!1)),this})),Oa(za.prototype,"slideHeight",(function(){return this.height-5})),Oa(za.prototype,"slideWidth",(function(){return this.width-this._opts.borderLeft.length-this._opts.borderRight.length})),Pa(za.prototype,"unwatch",(function(e){return this._watcher&&(Ya("No longer watching a source presentation file for changes."),this._watcher.close(),this._watcher=null,e&&this.emit("unwatch",e)),this})),Pa(za.prototype,"watch",(function(){var e,n,t;if(""===this._source)throw new Error("invalid operation. No presentation file to watch. Use the `load()` method to load a presentation.");if(this._watcher)return Ya("Already watching a source presentation file for changes."),this;n=this,e={persistent:!1,encoding:"utf8"},Ya("Attempting to watch source presentation file for changes: %s",this._source);try{t=_a(this._source,e,(function(e){var t;if("rename"===e)return void(n._watcher&&(Ya('Encountered a "rename" event for the source presentation file.'),t=new Error('unexpected error. Encountered a "rename" event for the source presentation file. No longer watching source presentation file for changes.'),n.unwatch(t)));Ya("Detected a change to the source presentation file."),n.reload(),n.emit("change")}))}catch(e){throw new Error("unexpected error. Unable to watch presentation source file. Error: "+e.message)}return t.on("error",(function(e){Ya("Encountered an error while watching a source presentation file. Error: %s",e.message),n.unwatch(e)})),Ya("Watching source presentation file."),this._watcher=t,this.emit("watch"),this})),Oa(za.prototype,"width",(function(){return this._opts.width?this._opts.width:this._repl._ostream.isTTY?this._repl._ostream.columns:80})),za}));
//# sourceMappingURL=bundle.js.map
